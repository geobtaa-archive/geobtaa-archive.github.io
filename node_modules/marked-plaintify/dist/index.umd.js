(function(r,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("marked")):typeof define=="function"&&define.amd?define(["marked"],c):(r=typeof globalThis<"u"?globalThis:r||self,r.markedPlaintify=c(r.marked))})(this,function(r){"use strict";function c(f={}){const s={},u=["constructor","hr","checkbox","br","space"],m=["strong","em","del"],x=["html","code"];let o=[];return Object.getOwnPropertyNames(r.Renderer.prototype).forEach(t=>{u.includes(t)?s[t]=()=>"":m.includes(t)?s[t]=function(e){return this.parser.parseInline(e.tokens)}:x.includes(t)?s[t]=e=>h(e.text)+`

`:t==="codespan"?s[t]=e=>h(e.text):t==="list"?s[t]=function(e){let n="";for(let i=0;i<e.items.length;i++){const l=e.items[i],a=this.listitem(l);typeof a=="string"&&(n+=a.replace(/\n{2,}/g,`
`))}return`
`+n.trim()+`

`}:t==="listitem"?s[t]=function(e){return`
`+this.parser.parse(e.tokens).trim()}:t==="blockquote"?s[t]=function(e){return this.parser.parse(e.tokens).trim()+`

`}:t==="table"?s[t]=function(e){o=[];for(let i=0;i<e.header.length;i++)this.tablecell(e.header[i]);let n="";for(let i=0;i<e.rows.length;i++){const l=e.rows[i];let a="";for(let d=0;d<l.length;d++)a+=this.tablecell(l[d]);n+=this.tablerow({text:a})}return n}:t==="tablerow"?s[t]=e=>{const n=e.text.split("__CELL_PAD__").filter(Boolean);return o.map((i,l)=>i+": "+n[l]).join(`
`)+`

`}:t==="tablecell"?s[t]=function(e){const n=this.parser.parseInline(e.tokens);return e.header&&o.push(n),n+"__CELL_PAD__"}:t==="link"?s[t]=function(e){return this.parser.parseInline(e.tokens)+`

`}:t==="image"?s[t]=e=>e.text+`

`:t==="paragraph"?s[t]=function(e){let n=this.parser.parseInline(e.tokens);return n=n.replace(/\n{2,}/g,""),n+`

`}:t==="heading"?s[t]=function(e){return this.parser.parseInline(e.tokens)+`

`}:s[t]=function(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}),{renderer:{...s,...f}}}function h(f){const s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};return f.replace(/[&<>"']/g,u=>s[u])}return c});
